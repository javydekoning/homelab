plex:
  image:
    repository: tccr.io/truecharts/plex
    pullPolicy: IfNotPresent
    tag: 1.28.2.6151@sha256:5ef7e1147e99986f4e05c12b6d8801691b7e90968668c0ec582be8bb8c5dfe6d

  plex:
    # User Defined
    serverIP: "192.168.1.250"
    additionalAdvertiseURL: "http://plex.k8s.javydekoning.com"
    disableGDM: false


  env:
    TZ: Europe/Amsterdam
    ADVERTISE_IP: 192.168.1.250
    ALLOWED_NETWORKS: "10.0.0.0/8,172.16.0.0/16,192.168.1.0/24"

  service:
    main:
      primary: true
      type: LoadBalancer
      loadBalancerIP: 192.168.1.250
      annotations:
        metallb.universe.tf/allow-shared-ip: plex
      ports:
        http:
          port: 32400

  ingress:
    # -- Enable and configure ingress settings for the chart under this key.
    # @default -- See values.yaml
    main:
      enabled: true
      hosts:
        - host: plex.k8s.javydekoning.com
          paths:
            - path: /

  persistence:
    config:
      enabled: true
      type: hostPath
      accessMode: ReadWriteOnce
      hostPath: /downloads/config/plex
      mountPath: /config
    transcode:
      enabled: true
      type: emptyDir
      mountPoint: /transcode
    tv:
      enabled: true
      type: hostPath
      accessMode: ReadWriteOnce
      hostPath: /downloads/tv
      mountPath: /tv
    movies:
      enabled: true
      type: hostPath
      accessMode: ReadWriteOnce
      hostPath: /downloads/movies
      mountPath: /movies
    education:
      enabled: true
      type: hostPath
      accessMode: ReadWriteOnce
      hostPath: /downloads/education
      mountPath: /education
  podSecurityContext:
    runAsUser: 0
    runAsGroup: 0
    fsGroup: 0
  resources:
    requests:
      memory: "2Gi"
      cpu: "1"
      gpu.intel.com/i915: 1
    limits:
      memory: "8Gi"
      cpu: "4"
      gpu.intel.com/i915: 1
